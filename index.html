<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>einkaternamensjan</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- language switcher -->
  <div class="lang-switch" aria-hidden="false">
    <button id="btn-en" aria-pressed="true">English</button>
    <button id="btn-de" aria-pressed="false">Deutsch</button>
  </div>

  <header>
    <h1 class="translatable" data-en="Hello World" data-de="Hallo Welt">Hello world</h1>
    <p>
      <a class="translatable" data-en="Read all posts" data-de="Alle BeitrÃ¤ge lesen" href="blogs.html">Read all posts</a>
    </p>
  </header>

  <main>
    <p class="translatable" data-en= "Where he sits at a table, dissatisfaction sits with him, the food becomes bad and it is seen that the room is tiny. Wherever he is chased, with him goes the rebellion, and where he has been banished, there remains nothing but discontent." data-de="Wo er sich zu Tisch setzt, setzt sich die Unzufriednheit zu Tisch, das Essen wird schlecht und als eng wird erkannt die Kammer. Wohin sie ihn jagen, dorthin geht der aufruhr, und wo er verjagt ist, bleibt die Unruhe doch."></p>
  </main>

  <script>
    (function () {
      const applyTranslations = (lang) => {
        document.querySelectorAll('.translatable').forEach(el => {
          const text = el.getAttribute('data-' + lang);
          if (text !== null) el.textContent = text;
        });
      };

      const setLang = (lang) => {
        document.documentElement.lang = (lang === 'de') ? 'de' : 'en';
        applyTranslations(lang);
        document.getElementById('btn-en').setAttribute('aria-pressed', lang === 'en');
        document.getElementById('btn-de').setAttribute('aria-pressed', lang === 'de');
      };

      document.getElementById('btn-en').addEventListener('click', () => setLang('en'));
      document.getElementById('btn-de').addEventListener('click', () => setLang('de'));

      const browserLang = navigator.language && navigator.language.startsWith('de') ? 'de' : 'en';
      setLang(browserLang);
    })();
  </script>
</body>
</html>